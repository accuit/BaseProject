@using AccuIT.BusinessLayer.Services.BO;
@using System.Web.Optimization;
@using AccuIT.PresentationLayer.WebAdmin.Core;
    @using AccuIT.PresentationLayer.WebAdmin.CustomFilter;
    @model RoleManagerBO
    @{
    ViewBag.Title = "Manage Roles";
    Layout = "~/Views/Shared/_Layout.cshtml";
    }

    @section SidebarMenu{
        <!-- search form -->
        <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
                <input type="text" name="q" class="form-control" placeholder="Search..." />
                <span class="input-group-btn">
                    <button type='submit' name='search' id='search-btn' class="btn btn-flat"><i class="fa fa-search"></i></button>
                </span>
            </div>
        </form>
        <!-- /.search form -->
        <!-- sidebar menu: : style can be found in sidebar.less -->
        <ul class="sidebar-menu">
            <li class="header">MAIN NAVIGATION</li>
            <!-- Dashboard -->
            <li>

                <a href="@Url.Action("Index", "Admin")">
                    <i class="fa fa-dashboard"></i><span>Dashboard</span> <small class="label pull-right bg-green">new</small>
                </a>

            </li>
            <!-- Roles Manager -->
            <li class="treeview active menu-open">
                <a href="#">
                    <i class="fa fa-users"></i><span>Manage Roles</span>
                    <i class="fa fa-angle-left pull-right"></i>
                </a>
                <ul class="treeview-menu">
                    <li class="active"><a href="@Url.Action("RoleManager", "Admin")"><i class="fa fa-circle-o"></i>Roles</a></li>
                    <li><a href="@Url.Action("ManageRoleModules", "Admin", new { roleid = HttpContext.Current.Session[PageConstants.SESSION_ROLE_ID] })"><i class="fa fa-circle-o"></i>Manage Role Modules</a></li>
                    <li><a href="@Url.Action("ManageRolePermissions", "Admin", new { roleid = HttpContext.Current.Session[PageConstants.SESSION_ROLE_ID] })"><i class="fa fa-circle-o"></i>Role Permissions</a></li>
                </ul>
            </li>
            <!-- Modules Manager -->
            <li><a href="@Url.Action("ModulesManager", "Admin")"><i class="fa fa-briefcase"></i><span>Modules</span></a></li>

        </ul>

    }


    @section breadcrumb{
        <h1>
            Roles Manager
            <small>Manager User Roles and Access</small>
        </h1>
        <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i>Admin</a></li>
            <li class="active">Role Manager</li>
        </ol>
    }

    <div class="row">
        <div class="col-md-12">

            <div class="box box-primary  collapsed-box">
                <div class="box-header with-border">
                    <h3 class="box-title">Create New Role</h3>

                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse">
                            <i class="fa fa-plus"></i>
                        </button>
                    </div>
                    <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->

                        <div class="box-body">

                            @using (Html.BeginForm("RoleManager", "Admin", FormMethod.Post, new { enctype = "multipart/form-data" }))
                        {
                            @Html.AntiForgeryToken()
                            @Html.ValidationSummary(true)
                             <input id="ShowPopup" name="ShowPopup" type="hidden" value="@ViewBag.ShowPopup" />

                            <div class="row">
                                <div class="form-group">
                                    <div class="col-xs-4">
                                        <label>Role Name</label>
                                        @Html.TextBoxFor(model => model.roleMasterBO.Name, new { @class = "form-control", @placeholder = "Role Name" })
                                        @Html.ValidationMessageFor(model => model.roleMasterBO.Name)
                                    </div>

                                    <div class="col-xs-4">
                                        <label>@Html.LabelFor(model => model.roleMasterBO.Code)</label>

                                        @Html.TextBoxFor(model => model.roleMasterBO.Code, new { @class = "form-control", @placeholder = "Role Code" })
                                        @Html.ValidationMessageFor(model => model.roleMasterBO.Code)
                                    </div>

                                    <div class="col-xs-4">
                                        <label>@Html.LabelFor(model => model.roleMasterBO.Type)</label>


                                        @Html.DropDownListFor(model => model.roleMasterBO.Type, new List<SelectListItem>
                       {
                                    new SelectListItem{ Text = "Admin", Value = "1", Selected=true},
                                    new SelectListItem{ Text = "Employee", Value = "2"},
                                     new SelectListItem{ Text = "Default", Value = "3"},
                                      new SelectListItem{ Text = "Customer", Value = "4"},
                                      new SelectListItem{ Text = "Visitor", Value = "5"},
                       }, "Select Role Typr", new { @class = "form-control" })

                                        @Html.ValidationMessageFor(model => model.roleMasterBO.Type)
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="form-group">
                                    <div class="col-xs-4">
                                        <label>@Html.LabelFor(model => model.roleMasterBO.Status)</label>
                                        @Html.DropDownListFor(model => model.roleMasterBO.Status, new List<SelectListItem>
                       {
                                    new SelectListItem{ Text = "Active", Value = "1", Selected=true},
                                    new SelectListItem{ Text = "InActive", Value = "2"},
                                     new SelectListItem{ Text = "Expired", Value = "3 "},
                       }, "Select Status", new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.roleMasterBO.Status)
                                    </div>

                                    <div class="col-xs-4">
                                      
                                        <label> @Html.LabelFor(model => model.roleMasterBO.IsAdmin)</label>
                                        @Html.EditorFor(model => model.roleMasterBO.IsAdmin, new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.roleMasterBO.IsAdmin)
                                    </div>

                                    <div class="col-xs-4">
                                        <p>
                                            <br />
                                            <input type="submit" value="Create" class="btn btn-success" />
                                            &nbsp; &nbsp;
                                            <input type="submit" value="Cancel" class="btn btn-danger" onclick="ClearForm()" />
                                        </p>
                                    </div>
                                </div>
                            </div>
                        }

                        </div>

                <!-- /.box-body -->
            </div>

            <!-- /.box -->
        </div>
        <div class="col-xs-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Create New Role</h3>
                </div>

            </div>

        </div>

        <div class="col-xs-12">
            <div class="box box-success">
                <div class="box-header with-border">
                    <h3 class="box-title">Role Manager Data</h3>
                </div><!-- /.box-header -->
                <div class="box-body">
                    <table id="example1" class="table table-bordered table-striped" role="grid" aria-describedby="example1_info">
                        <thead>
                            <tr>
                                <th>RoleID </th>
                                <th>RoleName</th>
                                <th>Role Code </th>
                                <th>Status </th>
                                <th>Is Admin  </th>
                                <th>Created Date </th>
                                <th>Controls</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.lstRoleMaster)
                        {
                                <tr>
                                    <td width="100px">

                                        @Html.ActionLink(item.RoleID.ToString(), "details", new { roleid = item.RoleID })

                                    </td>
                                    <td width="200px">
                                        @Html.DisplayFor(modelItem => item.Name)
                                    </td>

                                    <td width="120px">
                                        @Html.DisplayFor(modelItem => item.Code)
                                    </td>

                                    <td>
                                        @Html.DisplayFor(modelItem => item.Status)
                                    </td>

                                    <td>
                                        @Html.DisplayFor(modelItem => item.IsAdmin)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.CreatedDate)
                                    </td>

                                    <td>
                                        @Html.ActionLink("Update", "Edit", new { roleid = item.RoleID }) &nbsp; | &nbsp;

                                        @Html.ActionLink("Details", "Details", new { roleid = item.RoleID })
                                    </td>

                                </tr>
                        }
                        </tbody>
                        <tfoot>
                            <tr>
                                <th>RoleID </th>
                                <th>RoleName </th>
                                <th>Role Code </th>
                                <th>Status </th>
                                <th>Is Admin  </th>
                                <th>Created Date </th>
                                <th>Controls</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <br />
            </div>
        </div>
    </div>



    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>

    @section Scripts {


    }