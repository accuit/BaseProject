@using AccuIT.BusinessLayer.Services.BO;
@using System.Web.Mvc.Html;
@model UserMasterBO
@{
    ViewBag.Title = "Register New User";
    Layout = "~/Views/Shared/_Layout_Account.cshtml";
}

<head>
    <meta charset="UTF-8">
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <title>@ViewBag.Title</title>
    <!-- Bootstrap 3.3.4 -->
    <link href="~/Content/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link href="~/Content/dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- iCheck -->
    <link href="~/Content/plugins/iCheck/square/blue.css" rel="stylesheet" type="text/css" />

    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { ReturnUrl = ViewBag.ReturnUrl }))
{
    <input id="ShowPopup" name="ShowPopup" type="hidden" value="@ViewBag.ShowPopup" />
    @Html.HiddenFor(x => x.UserID)
    @Html.HiddenFor(x => x.LoginName)
    @Html.HiddenFor(x => x.AccountStatus)

    <div class="register-box-body">
        @if (ViewBag.IsSuccess == false)
        {
            <div class="alert alert-warning alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                @Html.Raw(ViewBag.Message)
            </div>
        }
        @if (ViewBag.IsRegistered == true)
        {
            <p class="login-box-msg">You have purchased @ViewBag.TemplateName Theme</p>
        }
        else
        {
            <p class="login-box-msg">Register a new membership</p>
        }

        @if (ViewBag.IsRegistered == true)
        {
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", @readonly = true })
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", @readonly = true })
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.LoginName, new { @class = "form-control", type = "email", @readonly = true })
                        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    </div>
                </div>
            </div>
        }
        else
        {
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.FirstName, new { @class = "form-control", placeholder = "First Name", type = "name", required = true })
                        @Html.ValidationMessageFor(m => m.FirstName)
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.LastName, new { @class = "form-control", placeholder = "Last Name", type = "name", required = true })
                        @Html.ValidationMessageFor(m => m.LastName)
                        <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <div class="form-group has-feedback">
                        @Html.TextBoxFor(m => m.LoginName, new { @class = "form-control", placeholder = "Email", type = "email", required = true })
                        @Html.ValidationMessageFor(m => m.LoginName)
                        <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    </div>
                </div>
            </div>
        }
        <div class="row">
            <div class="col-md-6">
                <div class="form-group has-feedback">
                    @Html.TextBoxFor(m => m.Password, new { @class = "form-control", placeholder = "Password", type = "password", required = true })
                    <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group has-feedback">
                    @Html.TextBoxFor(m => m.ConfirmPassword, new { @class = "form-control", placeholder = "Retype Password", type = "password", required = true })
                    <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-xs-8">
                <div class="checkbox icheck">
                    <label class="">
                        <div class="icheckbox_square-blue" aria-checked="false" aria-disabled="false" style="position: relative;">
                            <input type="checkbox" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;">
                            <ins class="iCheck-helper" style="position: absolute; top: -20%; left: -20%; display: block; width: 140%; height: 140%; margin: 0px; padding: 0px; background: rgb(255, 255, 255); border: 0px; opacity: 0;"></ins>
                        </div> I agree to the <a href="#">terms</a>
                    </label>
                </div>
            </div><!-- /.col -->
            <div class="col-xs-4">
                <button type="submit" class="btn btn-primary btn-block btn-flat">Register</button>
            </div><!-- /.col -->
        </div>

        <a href="@Url.Action("Login", "Account")" class="text-center">I already have a membership</a>
    </div><!-- /.form-box -->
}


<div class="modal fade" id="modal-default">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <h4 class="modal-title">Register Successfully</h4>
            </div>
            <div class="modal-body">
                <p>@ViewBag.Message</p>
            </div>
            <div class="modal-footer" style="text-align:center">
                <a href="@Url.Action("Login", "Account")">
                    <button type=" button" class="btn btn-primary">Login Now</button>
                </a>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
